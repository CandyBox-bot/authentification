<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Authentification Candy Box</title>
<style>
:root{
  --pink:#ff6fb5;
  --light-pink:#fff2f8;
  --border-pink:#ff9acb;
  --text:#333;
  --card-bg:#fff;
}
html,body{
  height:100%;
  margin:0;
  font-family: "Poppins", Arial, sans-serif;
  background: linear-gradient(180deg, #fff8fb 0%, #fffdfb 100%);
  color:var(--text);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:20px 10px;
}
.container{
  width:100%;
  max-width:420px;
  padding:10px;
  box-sizing:border-box;
}
.card{
  background: linear-gradient(180deg, var(--card-bg) 0%, var(--light-pink) 100%);
  border-radius:14px;
  padding:20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.08);
  border:4px solid transparent;
  position:relative;
  overflow:visible;
  text-align:center;
}
.card::before{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:18px;
  background:transparent;
  border:3px solid var(--border-pink);
  pointer-events:none;
  box-shadow:0 6px 20px rgba(255,105,180,0.06);
}
.logo img{
  max-width:280px;
  width:80%;
  height:auto;
  margin-bottom:14px;
}
h2{
  margin:0 0 14px 0;
  font-size:22px;
  color:var(--pink);
}
.desc{
  margin-bottom:16px;
  color:#666;
  font-size:16px;
}
.form-row{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-bottom:12px;
}
input[type="password"], input[type="text"]{
  padding:14px 50px 14px 14px; 
  font-size:18px;
  border-radius:10px;
  border:1px solid #e6d6e3;
  outline:none;
  background:#fff;
}
input::placeholder{
  color:#caa8b9;
}
.toggle-password{
  position:absolute;
  right:12px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  width:30px;
  height:30px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.toggle-password svg{
  width:26px;
  height:26px;
  fill:#666;
}
.actions{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  margin-top:12px;
}
.remember{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:15px;
  color:#555;
  justify-content:center;
}
.btn{
  background:var(--pink);
  color:white;
  padding:12px 20px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
  font-size:18px;
  box-shadow:0 6px 16px rgba(255,111,181,0.15);
  width:100%;
  max-width:300px;
}
.btn:active{ transform:translateY(1px); }
.note{
  margin-top:12px;
  font-size:14px;
  color:#9a7a8f;
  text-align:center;
}

/* Responsive mobile */
@media(max-width:400px){
  h2{ font-size:20px; }
  .desc{ font-size:15px; }
  input[type="password"], input[type="text"]{ font-size:16px; padding:12px 45px 12px 12px; }
  .btn{ font-size:16px; padding:10px 18px; }
  .logo img{ width:70%; }
}
</style>
</head>
<body>
<div class="container" role="main" aria-labelledby="auth-title">
  <div class="card" role="dialog" aria-modal="true" aria-label="Authentification Candy Box">

    <div class="logo">
      <img src="https://framerusercontent.com/images/wXspVf9QpQD9vwcCDaMcQuVIkc.png?width=419&height=124" alt="Candy Box - logo">
    </div>

    <h2 id="auth-title">Authentification Candy Box</h2>
    <p class="desc">Entrez votre mot de passe pour accéder à votre espace employé.</p>

    <form id="loginForm" autocomplete="off" aria-describedby="note">
      <div class="form-row">
        <label for="password" style="display:none">Mot de Passe</label>
        <input id="password" type="password" placeholder="Mot de Passe Personnel" aria-label="Mot de Passe Personnel" required />
        <div class="toggle-password" id="togglePassword" title="Afficher/Masquer le mot de passe">
          <svg id="eyeIcon" viewBox="0 0 24 24">
            <path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
            <circle cx="12" cy="12" r="2.5"/>
          </svg>
        </div>
      </div>

      <div class="actions">
        <label class="remember">
          <input id="remember" type="checkbox" checked />
          Se souvenir de moi
        </label>

        <button type="submit" class="btn" id="submitBtn">Se connecter</button>
      </div>

      <p id="note" class="note" aria-live="polite"></p>
    </form>
  </div>
</div>

<script>
(function(){
  const routes = {
    "Ines2014": "https://candy-box.framer.website/authentification-candy-box-ines",
    "Lena2014": "https://candy-box.framer.website/authentification-candy-box-lena",
    "!!Maxime!!": "https://candy-box.framer.website/authentification-candy-box-maxime",
    "20120915": "https://candy-box.framer.website/authentification-candy-box-abdallah",
    "TimFateh!": "https://candy-box.framer.website/authentification-candy-box-tim"
  };

  const form = document.getElementById('loginForm');
  const input = document.getElementById('password');
  const remember = document.getElementById('remember');
  const note = document.getElementById('note');
  const toggle = document.getElementById('togglePassword');
  const eyeIcon = document.getElementById('eyeIcon');

  const LS_KEY = 'candybox_remember_pass';

  toggle.addEventListener('click', function(){
    if(input.type === 'password'){
      input.type = 'text';
      eyeIcon.innerHTML = '<path d="M12 5c-5 0-9.27 3.11-11 7 1.73 3.89 6 7 11 7 2.1 0 4.05-.57 5.7-1.55l1.42 1.42 1.41-1.41-15-15-1.42 1.42L12 5zm0 12a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5z"/>';
    } else {
      input.type = 'password';
      eyeIcon.innerHTML = '<path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/><circle cx="12" cy="12" r="2.5"/>';
    }
  });

  try {
    const saved = localStorage.getItem(LS_KEY);
    if(saved && routes[saved]){
      note.textContent = "Connexion automatique — ouverture dans un nouvel onglet...";
      setTimeout(()=> window.open(routes[saved], '_blank'), 700);
    }
  } catch(e){ console.warn('localStorage inaccessible', e); }

  form.addEventListener('submit', function(ev){
    ev.preventDefault();
    const pw = input.value.trim();
    if(!pw){ note.textContent = "Veuillez entrer un mot de passe."; return; }

    if(routes[pw]){
      if(remember.checked){
        try { localStorage.setItem(LS_KEY, pw); } catch(e){ console.warn(e); }
      } else {
        try { localStorage.removeItem(LS_KEY); } catch(e){}
      }

      note.textContent = "Mot de passe correct — ouverture dans un nouvel onglet...";
      setTimeout(()=> { window.open(routes[pw], '_blank'); }, 500);
    } else {
      note.textContent = "Mot de passe incorrect. Réessaie.";
      input.value = "";
      input.focus();
    }
  });
})();
</script>
</body>
</html>
